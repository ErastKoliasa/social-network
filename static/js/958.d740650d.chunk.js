"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[958],{5958:function(t,e,s){s.r(e),s.d(e,{default:function(){return R}});var n=s(8683),r=s(5671),o=s(3144),i=s(136),a=s(516),u=s(2791),c=s(8687),l={},p=s(885),f=s(7928),d="Person_person__U5yfD",h="Person_containerPersonPhoto__shVpi",m="Person_btnChangePhoto__cppiX",x="Person_containerPersonInfo__16q7f",j="Person_personPhoto__0v47Z",v="Person_fullname__yLn9x",_="Person_infoTitle__LLXj-",P="Person_btn__5zj+N",N="Person_input__zYQkE",b="Person_textArea__Bqt5p",g=s(612),S="ProfileStatus_deactivatedEditStatus__zkj+m",k="ProfileStatus_activatedEditStatus__pszP5",y=s(184),I=function(t){var e=(0,u.useState)(!1),s=(0,p.Z)(e,2),n=s[0],r=s[1],o=(0,u.useState)(t.status),i=(0,p.Z)(o,2),a=i[0],c=i[1];(0,u.useEffect)((function(){c(t.status)}),[t.status]);return(0,y.jsxs)("div",{children:[!n&&(0,y.jsx)("div",{className:S,children:(0,y.jsx)("span",{onDoubleClick:function(){r(!0)},children:a||"No status"})}),n&&(0,y.jsx)("div",{children:(0,y.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},className:k,autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(a)},value:a})})]})},Z=s(5078),A=s(5304),C=s(2031),M=function(t){return(0,y.jsx)(Z.l0,{onSubmit:t.onSubmit,children:function(e){var s=e.handleSubmit;return(0,y.jsxs)("form",{onSubmit:s,children:[(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{className:_,children:"My name is:"}),(0,y.jsx)(Z.gN,{className:N,name:"fullName",component:C.I,placeholder:"Full Name",validate:(0,A.A3)(A.C1,(0,A.BS)(240))})]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{className:_,children:"Looking for a job:"}),(0,y.jsx)(Z.gN,{name:"lookingForAJob",component:C.I,type:"checkbox"})]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{className:_,children:"My profesional skills:"}),(0,y.jsx)(Z.gN,{className:"".concat(N," ").concat(b),name:"lookingForAJobDescription",component:C.K,placeholder:"My profesional skills",validate:(0,A.A3)(A.C1,(0,A.BS)(240))})]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{className:_,children:"About me:"}),(0,y.jsx)(Z.gN,{className:"".concat(N," ").concat(b),name:"aboutMe",component:C.K,placeholder:"About me",validate:(0,A.A3)(A.C1,(0,A.BS)(240))})]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{className:_,children:"Contacts:"}),Object.keys(t.profile.contacts).map((function(t){return(0,y.jsxs)("div",{children:[t,":",(0,y.jsx)(Z.gN,{className:N,name:"contacts.".concat(t),component:C.I,placeholder:t})]},t)}))]}),(0,y.jsx)("button",{className:P,children:"Save"})]})}})},w=function(t){return(0,y.jsx)("div",{children:(0,y.jsx)(M,{onSubmit:t.onSubmit,profile:t.profile})})},B=function(t){return(0,y.jsxs)("div",{className:x,children:[(0,y.jsx)("p",{className:v,children:t.profile.fullName}),(0,y.jsx)(I,{status:t.status,updateStatus:t.updateStatus}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{className:_,children:"Looking for a job:"})," ",t.profile.lookingForAJob?"yes":"no"]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{className:_,children:"My profesional skills:"})," ",t.profile.lookingForAJobDescription]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{className:_,children:"About me:"})," ",t.profile.aboutMe]}),(0,y.jsxs)("p",{children:[(0,y.jsx)("b",{className:_,children:"Contacts:"})," ",Object.keys(t.profile.contacts).map((function(e){return(0,y.jsx)(T,{contactTitle:e,contactValue:t.profile.contacts[e]},e)}))]}),t.isOwner&&(0,y.jsx)("button",{className:P,onClick:t.goToEditMode,children:"Edit"})]})},T=function(t){return(0,y.jsxs)("p",{children:[t.contactTitle,": ",t.contactValue]})},D=function(t){var e=(0,u.useState)(!1),s=(0,p.Z)(e,2),n=s[0],r=s[1];if(!t.profile)return(0,y.jsx)(f.Z,{});return(0,y.jsxs)("div",{className:d,children:[(0,y.jsxs)("div",{className:h,children:[(0,y.jsx)("img",{className:j,src:t.profile.photos.large?t.profile.photos.large:g}),t.isOwner&&(0,y.jsx)("input",{className:m,type:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}})]}),n?(0,y.jsx)(w,{onSubmit:function(e){t.saveProfile(e),r(!1)},profile:t.profile}):(0,y.jsx)(B,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner,goToEditMode:function(){r(!0)}})]})},F=s(4313),O=s(2982),E={myPosts:"MyPosts_myPosts__e+Jki",title:"MyPosts_title__bUpN1",containerInputBtn:"MyPosts_containerInputBtn__87oMT",textInput:"MyPosts_textInput__kwN2E",btnInput:"MyPosts_btnInput__PnTis"},U={posts:"Post_posts__ITLNF",avatar:"Post_avatar__QkCRr",postItem:"Post_postItem__8owf8"},z=function(t){return(0,y.jsxs)("div",{className:U.posts,children:[(0,y.jsx)("div",{className:U.containerAvatar,children:(0,y.jsx)("img",{src:g,alt:"Personal photo of a person",className:U.avatar})}),(0,y.jsx)("div",{className:U.postItem,children:t.post})]})},L=function(t){return(0,y.jsx)(Z.l0,{onSubmit:t.onSubmit,children:function(t){var e=t.handleSubmit;return(0,y.jsx)("form",{onSubmit:e,children:(0,y.jsxs)("div",{className:E.containerInputBtn,children:[(0,y.jsx)(Z.gN,{name:"post",component:C.K,placeholder:"Enter your post",validate:(0,A.A3)(A.C1,(0,A.BS)(240)),className:E.textInput}),(0,y.jsx)("button",{className:E.btnInput,children:"Add Post"})]})})}})},J=u.memo((function(t){var e=(0,O.Z)(t.posts).map((function(t){return(0,y.jsx)(z,{post:t.post},t.id)})).reverse();return(0,y.jsxs)("div",{className:E.myPosts,children:[(0,y.jsx)("h3",{className:E.title,children:"My Posts"}),(0,y.jsx)(L,{onSubmit:function(e){t.addPost(e.post)}}),(0,y.jsx)("div",{className:E.postItem,children:e})]})})),K=(0,c.$j)((function(t){return{posts:t.profilePage.postsData,newPostTex:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){return t((0,F.Ih)(e))}}}))(J),q=function(t){return(0,y.jsxs)("main",{className:l.main,children:[(0,y.jsx)(D,{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),(0,y.jsx)(K,{})]})},Q=s(7689),V=s(1548),$=function(t){(0,i.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,o.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.params.userId;t||(t=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.params.userId!=t.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,y.jsx)(q,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(u.Component),X=(0,V.D)($),R=(0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),(function(t){return{getUserProfile:function(e){return t((0,F.om)(e))},getStatus:function(e){return t((0,F.xD)(e))},updateStatus:function(e){return t((0,F.NN)(e))},savePhoto:function(e){return t((0,F.Qu)(e))},saveProfile:function(e){return t((0,F.aB)(e))}}}))((function(t){return(0,y.jsx)(X,(0,n.Z)((0,n.Z)({},t),{},{params:(0,Q.UO)()}))}))},2031:function(t,e,s){s.d(e,{I:function(){return l},K:function(){return c}});var n=s(8683),r=s(5987),o=(s(2791),"FormsControls_error__5peZk"),i=s(184),a=["input","meta"],u=["input","meta"],c=function(t){var e=t.input,s=t.meta,u=(0,r.Z)(t,a),c=s.touched&&s.error;return(0,i.jsxs)("div",{className:c?o:"",children:[(0,i.jsx)("textarea",(0,n.Z)((0,n.Z)({},u),e)),c&&(0,i.jsx)("span",{children:s.error})]})},l=function(t){var e=t.input,s=t.meta,a=(0,r.Z)(t,u),c=s.touched&&s.error;return(0,i.jsxs)("div",{className:c?o:"",children:[(0,i.jsx)("input",(0,n.Z)((0,n.Z)({},a),e)),c&&(0,i.jsx)("span",{children:s.error})]})}},1548:function(t,e,s){s.d(e,{D:function(){return d}});var n=s(8683),r=s(5671),o=s(3144),i=s(136),a=s(516),u=s(2791),c=s(8687),l=s(7689),p=s(184),f=function(t){return{isAuth:t.auth.isAuth}},d=function(t){var e=function(e){(0,i.Z)(u,e);var s=(0,a.Z)(u);function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,n.Z)({},this.props)):(0,p.jsx)(l.Fg,{to:"/login"})}}]),u}(u.Component);return(0,c.$j)(f)(e)}},5304:function(t,e,s){s.d(e,{A3:function(){return o},BS:function(){return r},C1:function(){return n}});var n=function(t){if(!t)return"Field is required"},r=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}},o=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return function(t){return e.reduce((function(e,s){return e||s(t)}),void 0)}}},612:function(t,e,s){t.exports=s.p+"static/media/avatar.4f45fd425da339067527.png"}}]);
//# sourceMappingURL=958.d740650d.chunk.js.map