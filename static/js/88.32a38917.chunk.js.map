{"version":3,"file":"static/js/88.32a38917.chunk.js","mappings":"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","sources":["webpack://social-network/./src/components/Messages/Messages.module.css?8e7e","components/Messages/Conversations/Conversations.js","components/Messages/DialogsItem/DialogsItem.js","components/Messages/Messages.js","components/Messages/MessagesContainer.js","webpack://social-network/./src/components/common/FormsControls/FormsControls.module.css?eb50","components/common/FormsControls/FormsControls.js","hoc/withAuthRedirect.js","utils/validators/validators.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"messages\":\"Messages_messages__NPd-9\",\"conversationsItem\":\"Messages_conversationsItem__z0yWd\",\"dialogsItem\":\"Messages_dialogsItem__FsM34\",\"dialogs\":\"Messages_dialogs__Ndia6\",\"link\":\"Messages_link__4l-jO\",\"avatar\":\"Messages_avatar__JPpaE\",\"messageInput\":\"Messages_messageInput__YIfG0\",\"btnSend\":\"Messages_btnSend__5aoIy\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport photo from \"../../../assets/img/avatar.png\"\r\nimport styles from '../Messages.module.css'\r\n\r\nconst Conversations = (props) => {\r\n    const path = '/messages/' + props.id\r\n    return (\r\n        <div className={styles.conversationsItem}>\r\n            <img src={photo} className={styles.avatar}></img>\r\n            <NavLink to={path} className={styles.link}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\nexport default Conversations; ","import React from \"react\";\r\nimport styles from '../Messages.module.css'\r\n\r\nconst DialogsItem = (props) => {\r\n    return (\r\n        <div>\r\n            <p className={styles.dialogsItem}>{props.messages}</p>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default DialogsItem; ","import React from \"react\";\r\nimport styles from './Messages.module.css'\r\nimport Conversations from './Conversations/Conversations'\r\nimport DialogsItem from \"./DialogsItem/DialogsItem\";\r\nimport { Field, Form } from \"react-final-form\";\r\nimport { TextArea } from \"../common/FormsControls/FormsControls\";\r\nimport { composeValidators, maxLength, required } from \"../../utils/validators/validators\";\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <Form onSubmit={props.onSubmit}>\r\n            {({ handleSubmit }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                    <div>\r\n                        <Field name=\"message\" component={TextArea}\r\n                            placeholder=\"Enter your message\"\r\n                            validate={composeValidators(required, maxLength(240))} \r\n                            className={styles.messageInput}/>\r\n                    </div>\r\n                    <div>\r\n                        <button className={styles.btnSend}>Send</button>\r\n                    </div>\r\n                </form>\r\n            )}\r\n        </Form>\r\n    )\r\n}\r\n\r\nconst Messages = (props) => {\r\n    const conversation = props.conversation.map(data => <Conversations name={data.name} key={data.id} id={data.id} />)\r\n    const dialogsItem = props.dialogsItem.map(data => <DialogsItem messages={data.messages} key={data.id} />)\r\n\r\n    const addNewMessage = (value) => {\r\n        props.sendMessage(value.message);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.messages}>\r\n            <div className={styles.conversations}>\r\n                {conversation}\r\n            </div>\r\n            <div className={styles.dialogs}>\r\n                {dialogsItem}\r\n                <div>\r\n                    <AddMessageForm onSubmit={addNewMessage} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages; ","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { sendMessageActionCreator} from \"../../redux/messagesPageReducer\";\r\nimport Messages from \"./Messages\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        conversation: state.messagesPage.conversationsData,\r\n        dialogsItem: state.messagesPage.dialogsItemData,\r\n        newMessageText: state.messagesPage.newMessageText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (message) => dispatch(sendMessageActionCreator(message))\r\n    }\r\n}\r\n\r\nconst AuthRedirectComponent = withAuthRedirect(Messages)\r\n\r\nconst MessagesContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\r\n\r\nexport default MessagesContainer; ","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"FormsControls_error__5peZk\"};","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\"\r\n\r\nexport const TextArea = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={hasError ? styles.error : \"\"}>\r\n            <textarea  {...props} {...input} />\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={hasError ? styles.error : \"\"}>\r\n            <input {...props} {...input} />\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to=\"/login\" />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLength = maxLength => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\nexport const composeValidators = (...validators) => value =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined)"],"names":["props","path","id","className","styles","src","photo","to","name","messages","AddMessageForm","onSubmit","handleSubmit","component","TextArea","placeholder","validate","composeValidators","required","maxLength","conversation","map","data","dialogsItem","value","sendMessage","message","AuthRedirectComponent","withAuthRedirect","Messages","connect","state","messagesPage","conversationsData","dialogsItemData","newMessageText","dispatch","sendMessageActionCreator","input","meta","hasError","touched","error","Input","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","this","React","length","validators","reduce","validator","undefined"],"sourceRoot":""}